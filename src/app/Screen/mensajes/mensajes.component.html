<div class="ion-page">
    <ion-toolbar>
        <ion-title class="header">Mensajes directos</ion-title>
    </ion-toolbar>
    <ion-content class="ion-padding">
        <ion-button id="open-modal" expand="block">Crear nueva conversación</ion-button>

        <ion-list>
            <ion-item *ngFor="let grupo of grupos">
                <ion-avatar slot="start">
                    <ion-img src="https://i.pravatar.cc/300?u={{ grupo.id }}"></ion-img>
                </ion-avatar>
                <ion-label>
                    <h2>{{ grupo.name }}</h2>
                </ion-label>
                <!-- Botón para crear conversación -->
                <ion-button fill="clear" slot="end" class="boton-anyadir" (click)="crearNuevaConversacion(grupo.id)">
                    <ion-icon name="arrow-redo-outline"></ion-icon>
                </ion-button>
            </ion-item>
        </ion-list>

        <ion-modal #modal trigger="open-modal" [presentingElement]="presentingElement">
            <ng-template>
                <ion-header>
                    <ion-toolbar>
                        <ion-title>Personas para añadir</ion-title>
                        <ion-buttons slot="end">
                            <ion-button (click)="modal.dismiss()">Close</ion-button>
                        </ion-buttons>
                    </ion-toolbar>
                </ion-header>
                <ion-content>
                    <ion-list>
                        <ion-item>
                            <ion-avatar slot="start">
                                <ion-img src="https://i.pravatar.cc/300?u=b"></ion-img>
                            </ion-avatar>
                            <ion-label>
                                <h2>Connor Smith</h2>
                            </ion-label>
                            <!-- Botón al final -->
                            <ion-button fill="clear" slot="end" class="boton-anyadir">
                                <ion-icon name="add"></ion-icon>
                            </ion-button>
                        </ion-item>
                    </ion-list>
                </ion-content>
            </ng-template>
        </ion-modal>
    </ion-content>
</div>
